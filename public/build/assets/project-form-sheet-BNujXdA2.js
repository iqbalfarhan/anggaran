import{r as g,j as e,u as y}from"./app-BuhxccM0.js";import{F as h}from"./form-control-C_ppJmvL.js";import{S as C}from"./submit-button-9KO5LvCc.js";import{B as v}from"./badge-DS78RpVD.js";import{I as S}from"./input-Cf_adH4U.js";import{B as k}from"./createLucideIcon-BA1xmlca.js";import{S as D}from"./scroll-area-ClqzpGpt.js";import{S as T,a as N,b as B,c as w,d as F,e as E,f as I,g as P,X as K}from"./sheet-CVsPeW-1.js";import{T as O}from"./textarea-BG98S0_B.js";import{u as R}from"./use-mobile-C4ZWL1HH.js";import{a as f,t as d,e as j}from"./utils-DzImD4wB.js";/* empty css            */import"./label-CSH56XLn.js";import"./index-B5hUVbp2.js";import"./index-BAWRJvX3.js";import"./loader-circle-Dr32dvHo.js";import"./check-C7qw2K1y.js";import"./index-CBhX-8Et.js";import"./index-Bx0j57Td.js";import"./index-qNTxaieP.js";import"./index-B3QAqErv.js";import"./index-BdQq_4o_.js";import"./index-Bv-dS6vY.js";const z=({value:a=[],onValueChange:i})=>{const[o,p]=g.useState(""),n=t=>{const s=t.trim();s&&!a.includes(s)&&i?.([...a,s])},m=t=>{i?.(a.filter(s=>s!==t))},l=t=>{(t.key==="Enter"||t.key===",")&&(t.preventDefault(),n(o),p("")),t.key==="Backspace"&&o===""&&a.length>0&&m(a[a.length-1])},c=(t,s)=>{t.stopPropagation(),m(s)};return e.jsxs("div",{className:"space-y-2",children:[a.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1",children:a.map(t=>e.jsxs(v,{variant:"default",className:"flex items-center gap-1 pr-1",children:[e.jsx("span",{children:t}),e.jsx("button",{type:"button",onClick:s=>c(s,t),children:"âœ•"})]},t))}),e.jsx(S,{type:"text",value:o,onChange:t=>p(t.target.value),onKeyDown:l,placeholder:"Tambah tag...",className:"min-w-[100px] flex-1 outline-none"})]})},ne=({children:a,project:i,purpose:o})=>{const[p,n]=g.useState(!1),m=R(),{data:l,setData:c,put:t,post:s,reset:b,processing:u}=y({name:i?.name??"",description:i?.description??"",categories:i?.categories??[]}),x=()=>{o==="create"||o==="duplicate"?s(route("project.store"),{preserveScroll:!0,onSuccess:()=>{d.success("Project created successfully"),b(),n(!1)},onError:r=>d.error(j(r))}):t(route("project.update",i?.id),{preserveScroll:!0,onSuccess:()=>{d.success("Project updated successfully"),n(!1)},onError:r=>d.error(j(r))})};return e.jsxs(T,{open:p,onOpenChange:n,children:[e.jsx(N,{asChild:!0,children:a}),e.jsxs(B,{side:m?"bottom":"right",children:[e.jsxs(w,{children:[e.jsxs(F,{children:[f(o)," data project"]}),e.jsxs(E,{children:["Form untuk ",o," data project"]})]}),e.jsx(D,{className:"flex-1 overflow-y-auto",children:e.jsxs("form",{className:"space-y-6 px-4",onSubmit:r=>{r.preventDefault(),x()},children:[e.jsx(h,{label:"Nama project",children:e.jsx(S,{type:"text",placeholder:"Name",value:l.name,onChange:r=>c("name",r.target.value)})}),e.jsx(h,{label:"Deskripsi",children:e.jsx(O,{placeholder:"Description",value:l.description,onChange:r=>c("description",r.target.value)})}),e.jsx(h,{label:"Deskripsi",children:e.jsx(z,{value:l.categories,onValueChange:r=>c("categories",r)})})]})}),e.jsxs(I,{children:[e.jsx(C,{onClick:x,label:`${f(o)} project`,loading:u,disabled:u}),e.jsx(P,{asChild:!0,children:e.jsxs(k,{variant:"outline",children:[e.jsx(K,{})," Batalin"]})})]})]})]})};export{ne as default};
