import{r as T,a as w,j as e,L as I}from"./app-CnPPBvD1.js";import{M as P}from"./markdown-reader-Bmk28Wyi.js";import{c as S,B as r}from"./createLucideIcon-FN00NzKZ.js";import{C}from"./checkbox-DS_cmijm.js";import{I as z,L as v}from"./label-Nkrmgw3I.js";import{P as Y,a as F,b as B,T as g}from"./transaksi-form-sheet-CTOjV_RD.js";import{T as _,a as A,b as p,c as l,d as E,e as i}from"./table-BOLDWrf8.js";import{u as O,T as R}from"./use-view-mode-B8CJHH0u.js";import{A as H}from"./app-layout-Dw2LZ6kb.js";import{g as J,a as U,d as b,k as V,s as W,j as u}from"./index-IkiMob0D.js";import $ from"./transaksi-bulk-delete-dialog-kGmnzIoT.js";import q from"./transaksi-bulk-edit-sheet-B58w0jto.js";import K from"./transaksi-delete-dialog-BtdT1_Yy.js";import G from"./transaksi-item-card-BiN08EAx.js";import Q from"./transaksi-stat-widget-BG-jjhck.js";import X from"./transaksi-upload-sheet-Bu8u5JKA.js";import{S as N}from"./square-pen-DNvc4t9H.js";import{T as k}from"./trash-2--DqxSjz7.js";import{F as Z}from"./folder-qw0LMBQA.js";import{P as ee}from"./plus-DById3RR.js";/* empty css            */import"./index-Du1WsQOY.js";import"./index-D_1UXHWn.js";import"./index-Cv_93qM8.js";import"./index-k9deNUIc.js";import"./index-nB-lHtbX.js";import"./check-CO7V1B5j.js";import"./index-rQot7Pxw.js";import"./index-Cdw8qwd9.js";import"./index-BgfbUGAE.js";import"./index-DEr2ma1j.js";import"./calendar-CpEi0Gjc.js";import"./form-control-DpaK3kM4.js";import"./submit-button-DP7_xWLm.js";import"./loader-circle-BbSADe0E.js";import"./scroll-area-BKFReX7X.js";import"./index-1Z2YF56C.js";import"./sheet-dgfKv8eJ.js";import"./use-mobile-Dcy1-0oc.js";import"./card-Bp4uJmny.js";import"./theme-toggler-CUQ_9Wkl.js";import"./sidebar-CIFq6aTl.js";import"./app-logo-icon-CwFoTRsT.js";import"./avatar-B5lg0hhY.js";import"./alert-dialog-CtPq-qjo.js";import"./arrow-left-hT-TT6Ej.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],re=S("Copy",se);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],te=S("Image",ie),Qe=({transaksis:h})=>{const{mode:f,toggle:M}=O(),[t,c]=T.useState([]),[x,D]=T.useState(""),{permissions:m}=w().props,y=J(h,"date");return e.jsxs(H,{title:"Transaksis",description:"Manage your transaksis",actions:e.jsx(e.Fragment,{children:m?.canAdd&&e.jsx(g,{purpose:"create",children:e.jsxs(r,{children:[e.jsx(ee,{}),"Create new transaksi"]})})}),children:[e.jsx(Q,{}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(z,{placeholder:"Search transaksis...",value:x,onChange:a=>D(a.target.value)}),t.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs(r,{variant:"ghost",disabled:!0,children:[t.length," item selected"]}),e.jsx(q,{transaksiIds:t,onSuccess:()=>c([]),children:e.jsxs(r,{children:[e.jsx(N,{})," Edit selected"]})}),e.jsx($,{transaksiIds:t,onSuccess:()=>c([]),children:e.jsxs(r,{variant:"destructive",children:[e.jsx(k,{})," Delete selected"]})})]}),e.jsxs(r,{onClick:M,children:[e.jsx(R,{}),U(f)]})]}),f=="table"?e.jsxs(_,{children:[e.jsx(A,{children:e.jsxs(p,{children:[e.jsx(l,{children:e.jsx(r,{variant:"ghost",size:"icon",asChild:!0,children:e.jsx(v,{children:e.jsx(C,{checked:t.length===h.length,onCheckedChange:a=>{c(a?h.map(n=>n.id):[])}})})})}),e.jsx(l,{children:"Tanggal"}),e.jsx(l,{children:"Kegiatan"}),e.jsx(l,{children:"Nominal"}),e.jsx(l,{className:"text-center",children:"Actions"})]})}),e.jsx(E,{children:Object.entries(y).map(([a,n])=>(()=>{const o=n.filter(s=>JSON.stringify(s).toLowerCase().includes(x.toLowerCase())),j=o.reduce((s,d)=>s+(d.price??0),0);return e.jsxs(e.Fragment,{children:[e.jsx(p,{className:"bg-muted/50",children:e.jsx(i,{colSpan:5,className:"text-center opacity-50",children:b(a).format("dddd, DD MMMM YYYY")})},a),o.map(s=>e.jsxs(p,{children:[e.jsx(i,{children:e.jsx(r,{variant:"ghost",size:"icon",asChild:!0,children:e.jsx(v,{children:e.jsx(C,{checked:t.includes(s.id),onCheckedChange:d=>{c(d?[...t,s.id]:t.filter(L=>L!==s.id))}})})})}),e.jsx(i,{children:V(s.date)}),e.jsx(i,{children:e.jsxs(Y,{children:[e.jsx(F,{children:W(s.name)}),e.jsx(B,{children:e.jsx(P,{content:s.description,className:"prose-sm"})})]})}),e.jsx(i,{children:u(s.price)}),e.jsxs(i,{className:"text-center",children:[m?.canShow&&e.jsx(r,{variant:"ghost",size:"icon",children:e.jsx(I,{href:route("transaksi.show",s.id),children:e.jsx(Z,{})})}),m?.canUpdate&&e.jsxs(e.Fragment,{children:[e.jsx(X,{transaksi:s,children:e.jsx(r,{variant:"ghost",size:"icon",children:e.jsx(te,{})})}),e.jsx(g,{purpose:"duplicate",transaksi:s,children:e.jsx(r,{variant:"ghost",size:"icon",children:e.jsx(re,{})})}),e.jsx(g,{purpose:"edit",transaksi:s,children:e.jsx(r,{variant:"ghost",size:"icon",children:e.jsx(N,{})})})]}),m?.canDelete&&e.jsx(K,{transaksi:s,children:e.jsx(r,{variant:"ghost",size:"icon",children:e.jsx(k,{})})})]})]},s.id)),o.length>0&&e.jsxs(p,{className:"bg-muted/30",children:[e.jsx(i,{colSpan:3}),e.jsx(i,{className:"font-semibold",children:u(j)}),e.jsx(i,{className:"text-center opacity-70",children:"Total pengeluaran hari ini"})]})]})})())})]}):e.jsx("div",{className:"space-y-10",children:Object.entries(y).map(([a,n])=>{const o=n.filter(s=>JSON.stringify(s).toLowerCase().includes(x.toLowerCase())),j=o.reduce((s,d)=>s+(d.price??0),0);return e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"font-bold",children:b(a).format("dddd, DD MMMM YYYY")}),o.length>0&&e.jsxs("p",{className:"text-sm opacity-70",children:["Total pengeluaran: ",u(j)]}),e.jsx("div",{className:"grid-responsive grid gap-4",children:o.map(s=>e.jsx(G,{transaksi:s},s.id))})]})})})]})};export{Qe as default};
