import{a as k,u as P,j as s,L as n}from"./app-anM-gZ2u.js";import{H as S}from"./heading-small-BnVMvyB3.js";import{B as o}from"./createLucideIcon-BioKLKX7.js";import{C as p,a as c,b as d,c as l,d as R}from"./card-B3S_K6RW.js";import{C as b}from"./checkbox-BtSDFpfQ.js";import{L as v}from"./label-C8G4Cnnr.js";import{A}from"./app-layout-DN7FZeuy.js";import{g as L,a as B,t as h,e as F}from"./utils-Pwra_gJf.js";import D from"./permission-form-sheet-3TIH4AVB.js";import N from"./role-form-sheet-CpA9yxJx.js";import{R as w}from"./refresh-ccw-C0FytvcZ.js";import{P as E}from"./plus-bTdug0-a.js";import{A as H}from"./arrow-left-BBdw3AfB.js";import{S as T}from"./square-pen-CrjIyrP9.js";import{C as q}from"./check-X5a9n9GQ.js";/* empty css            */import"./index-BHJU855m.js";import"./index-CqHEZmET.js";import"./index-6TxovVEZ.js";import"./index-tkLrXI5P.js";import"./index-DfYHHzgK.js";import"./index-DzuaZqSn.js";import"./theme-toggler-B3_fQzIm.js";import"./sidebar-7zpzTDSN.js";import"./use-mobile-1OJeYdmt.js";import"./sheet-BbbadrY6.js";import"./index-CbA_e4WE.js";import"./index-D4AgSKuP.js";import"./index-B9nn0GvT.js";import"./chevron-right-DENebv_t.js";import"./app-logo-icon-CTMYMHyL.js";import"./index-BDRgNheF.js";import"./index-nzUc_GAa.js";import"./avatar-BU_ohGqV.js";import"./folder-B2LRf7jy.js";import"./form-control-Dj9hg2hI.js";import"./submit-button-nAPFLybW.js";import"./loader-circle-CKA1gowg.js";import"./input-ClfOI950.js";import"./scroll-area-C5tCGvq1.js";import"./index-BdQq_4o_.js";const bs=({role:e,permits:x})=>{const{permissions:a}=k().props,j=L(x,"group"),{data:t,setData:u,put:f}=P({permissions:(e.permissions??[]).map(r=>r.name)}),C=()=>{f(route("role.update",e.id),{preserveScroll:!0,onSuccess:()=>{h.success("Role updated successfully")},onError:r=>h.error(F(r))})};return s.jsxs(A,{title:"Detail Role",description:"Detail role",actions:s.jsxs(s.Fragment,{children:[s.jsx(n,{href:route("role.index"),children:s.jsxs(o,{variant:"secondary",children:[s.jsx(H,{}),"Back to route list"]})}),s.jsx(N,{purpose:"edit",role:e,children:s.jsxs(o,{children:[s.jsx(T,{})," Edit nama role"]})}),s.jsxs(o,{onClick:C,children:[s.jsx(q,{})," Simpan"]})]}),children:[s.jsx(p,{children:s.jsxs(c,{children:[s.jsx(d,{children:B(e.name)}),s.jsx(l,{children:(e.permissions??[]).length?e.permissions?.map(r=>r.name).join(", "):"Belum ada permission"})]})}),s.jsx(S,{title:"Permission",description:"Pilih permission yang ingin digunakan unruk role ini",actions:s.jsxs(s.Fragment,{children:[a?.canResyncPermission&&s.jsx(o,{variant:"secondary",asChild:!0,children:s.jsxs(n,{method:"post",href:route("permission.resync"),children:[s.jsx(w,{})," Resycn permissions"]})}),a?.canAddPermission&&s.jsx(D,{purpose:"create",children:s.jsxs(o,{variant:"secondary",children:[s.jsx(E,{})," Tambah permission"]})})]})}),s.jsx("div",{className:"masonry",children:Object.entries(j).map(([r,m])=>s.jsxs(p,{className:"break-inside-avoid",children:[s.jsxs(c,{children:[s.jsx(d,{children:r.charAt(0).toUpperCase()+r.slice(1)}),s.jsxs(l,{children:[m.length," permits"]})]}),s.jsx(R,{children:s.jsx("div",{className:"grid",children:m.map(i=>s.jsxs(v,{className:"flex h-8 items-center gap-2",children:[s.jsx(b,{defaultChecked:t.permissions.includes(i.name),onCheckedChange:g=>u("permissions",g?[...t.permissions,i.name]:t.permissions.filter(y=>y!==i.name))}),i.name]},i.id))})})]},r))})]})};export{bs as default};
