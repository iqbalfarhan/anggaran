import{r as C,a as P,j as e,L as I}from"./app-DMcW2tOP.js";import{H as z}from"./heading-small-CfS8vXM2.js";import{M as F}from"./markdown-reader-BoBhMhTs.js";import{c as M,B as r}from"./createLucideIcon-nktsYpzW.js";import{C as b}from"./checkbox-B0R-G61k.js";import{I as Y}from"./input-KXqrnvDd.js";import{L as S}from"./label-D47-Nb5D.js";import{T as u,P as B,a as E,b as _}from"./transaksi-form-sheet-EbL2lbeU.js";import{T as $,a as A,b as p,c as m,d as H,e as i}from"./table-BkIe8ysv.js";import{u as O,T as R}from"./use-view-mode-BFACN1Mi.js";import{A as U}from"./app-layout-B8WP389A.js";import{g as J,d as N,k as V,s as W,f,a as q}from"./index-Ic_xCKeT.js";import K from"./project-form-sheet-CNIi3iKu.js";import G from"./transaksi-bulk-delete-dialog-B3QauSps.js";import Q from"./transaksi-bulk-edit-sheet-CS43ZK2i.js";import X from"./transaksi-delete-dialog-DouJqOkn.js";import Z from"./transaksi-item-card-CjSS4Vy2.js";import ee from"./transaksi-stat-widget-Ckl6Sest.js";import se from"./transaksi-upload-sheet-DMRLDL1f.js";import{S as y}from"./square-pen-CFbqh2Lq.js";import{T as k}from"./trash-2-CMsBulLy.js";import{P as re}from"./plus-CcAX3leM.js";import{F as ie}from"./folder-BJuX1J9p.js";/* empty css            */import"./index-DqFDT8Zo.js";import"./index-BChacAqO.js";import"./index-C9qhn7ua.js";import"./index-XGSvYr_i.js";import"./index-CH0LOIsg.js";import"./check-CKikJsGn.js";import"./chevron-right-B0kRwBRD.js";import"./select-BTSy8u0Q.js";import"./index-BdQq_4o_.js";import"./index-DojeUuzN.js";import"./index-D38LWlPc.js";import"./index-40mVIHYA.js";import"./index-DxqT3Nbj.js";import"./index-zo_Wv1sg.js";import"./calendar-CEAD7sGf.js";import"./form-control-B1p1qqkT.js";import"./submit-button-Br4S-aRY.js";import"./loader-circle-BRTsX2N_.js";import"./scroll-area-BzZOKuQS.js";import"./sheet-BKkaK1rE.js";import"./textarea-DUSQcss2.js";import"./use-mobile-C9lRYDIH.js";import"./card-C5luDYFy.js";import"./theme-toggler-zfHTxpjd.js";import"./sidebar-Cad81lXe.js";import"./app-logo-icon-BMV7tBIU.js";import"./avatar-DQH3gakU.js";import"./alert-dialog-ub_2ySDc.js";import"./arrow-left-BZmbzAuQ.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ae=M("Copy",te);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ne=M("Image",oe),ns=({transaksis:h,project:x})=>{const{mode:T,toggle:D}=O(),[t,n]=C.useState([]),[j,L]=C.useState(""),{permissions:c}=P().props,v=J(h,"date");return e.jsxs(U,{title:`Transaksi ${x?`- ${x.name}`:""}`,description:"Manage your transaksis",actions:e.jsxs(e.Fragment,{children:[c?.canUpdateProject&&e.jsx(K,{purpose:"edit",project:x,children:e.jsxs(r,{children:[e.jsx(y,{})," Edit project"]})}),e.jsxs(r,{onClick:D,children:[e.jsx(R,{}),q(T)]})]}),children:[e.jsx(ee,{}),e.jsxs("div",{className:"flex flex-col gap-2 md:flex-row",children:[e.jsx(Y,{placeholder:"Search transaksis...",value:j,onChange:a=>L(a.target.value)}),t.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs(r,{variant:"ghost",disabled:!0,children:[t.length," item selected"]}),e.jsx(Q,{transaksiIds:t,onSuccess:()=>n([]),children:e.jsxs(r,{children:[e.jsx(y,{})," Edit selected"]})}),e.jsx(G,{transaksiIds:t,onSuccess:()=>n([]),children:e.jsxs(r,{variant:"destructive",children:[e.jsx(k,{})," Delete selected"]})})]}),c?.canAdd&&e.jsx(u,{purpose:"create",children:e.jsxs(r,{children:[e.jsx(re,{}),"Transaksi baru"]})})]}),T=="table"?e.jsxs($,{children:[e.jsx(A,{children:e.jsxs(p,{children:[e.jsx(m,{children:e.jsx(r,{variant:"ghost",size:"icon",asChild:!0,children:e.jsx(S,{children:e.jsx(b,{checked:t.length===h.length,onCheckedChange:a=>{n(a?h.map(d=>d.id):[])}})})})}),e.jsx(m,{children:"Tanggal"}),e.jsx(m,{children:"Kegiatan"}),e.jsx(m,{children:"Nominal"}),e.jsx(m,{className:"text-center",children:"Actions"})]})}),e.jsx(H,{children:Object.entries(v).map(([a,d])=>(()=>{const o=d.filter(s=>JSON.stringify(s).toLowerCase().includes(j.toLowerCase())),g=o.reduce((s,l)=>s+(l.price??0),0);return e.jsxs(e.Fragment,{children:[e.jsx(p,{className:"bg-muted/50",children:e.jsx(i,{colSpan:5,className:"text-center opacity-50",children:N(a).format("dddd, DD MMMM YYYY")})},a),o.map(s=>e.jsxs(p,{children:[e.jsx(i,{children:e.jsx(r,{variant:"ghost",size:"icon",asChild:!0,children:e.jsx(S,{children:e.jsx(b,{checked:t.includes(s.id),onCheckedChange:l=>{n(l?[...t,s.id]:t.filter(w=>w!==s.id))}})})})}),e.jsx(i,{children:V(s.date)}),e.jsx(i,{children:e.jsxs(B,{children:[e.jsx(E,{children:W(s.name)}),e.jsx(_,{children:e.jsx(F,{content:s.description,className:"prose-sm"})})]})}),e.jsx(i,{children:f(s.price)}),e.jsxs(i,{className:"text-center",children:[c?.canShow&&e.jsx(r,{variant:"ghost",size:"icon",children:e.jsx(I,{href:route("transaksi.show",s.id),children:e.jsx(ie,{})})}),c?.canUpdate&&e.jsxs(e.Fragment,{children:[e.jsx(se,{transaksi:s,children:e.jsx(r,{variant:"ghost",size:"icon",children:e.jsx(ne,{})})}),e.jsx(u,{purpose:"duplicate",transaksi:s,children:e.jsx(r,{variant:"ghost",size:"icon",children:e.jsx(ae,{})})}),e.jsx(u,{purpose:"edit",transaksi:s,children:e.jsx(r,{variant:"ghost",size:"icon",children:e.jsx(y,{})})})]}),c?.canDelete&&e.jsx(X,{transaksi:s,children:e.jsx(r,{variant:"ghost",size:"icon",children:e.jsx(k,{})})})]})]},s.id)),o.length>0&&e.jsxs(p,{className:"bg-muted/30",children:[e.jsx(i,{colSpan:3}),e.jsx(i,{className:"font-semibold",children:f(g)}),e.jsx(i,{className:"text-center opacity-70",children:"Total pengeluaran hari ini"})]})]})})())})]}):e.jsx("div",{className:"space-y-10",children:Object.entries(v).map(([a,d])=>{const o=d.filter(s=>JSON.stringify(s).toLowerCase().includes(j.toLowerCase())),g=o.reduce((s,l)=>s+(l.price??0),0);return e.jsxs("div",{className:"space-y-4",children:[e.jsx(z,{title:N(a).format("dddd, DD MMMM YYYY"),description:o.length>0?`Total pengeluaran: ${f(g)}`:void 0}),e.jsx("div",{className:"grid-responsive grid gap-4",children:o.map(s=>e.jsx(Z,{transaksi:s},s.id))})]})})})]})};export{ns as default};
