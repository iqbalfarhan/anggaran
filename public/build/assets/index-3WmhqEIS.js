import{r as b,a as P,j as e,L as I}from"./app-NeaFuV1s.js";import{H as z}from"./heading-small-lDvt0QhG.js";import{M as F}from"./markdown-reader-CLRpQ_Hn.js";import{c as D,B as r}from"./createLucideIcon-yu7xfkzl.js";import{C as S}from"./checkbox-JZ6TL6SR.js";import{I as Y}from"./input-CTeWAsgQ.js";import{L as N}from"./label-CCFdaGOt.js";import{T as f,P as B,a as E,b as _}from"./transaksi-form-sheet-Yewl7CgW.js";import{T as $,a as A,b as h,c as p,d as H,e as t}from"./table-BMoKlUlo.js";import{u as O,T as R}from"./use-view-mode-DirG1tgn.js";import{A as U}from"./app-layout-CTKoMLi7.js";import{g as J,d as k,k as V,s as W,f as y,a as q}from"./index-Bpli-PwO.js";import K from"./project-form-sheet-pr6MHeLM.js";import G from"./transaksi-bulk-delete-dialog-BJB74Wbd.js";import Q from"./transaksi-bulk-edit-sheet-DMqrNMjM.js";import X from"./transaksi-delete-dialog-774jsi3d.js";import Z from"./transaksi-item-card-MNJFw1yB.js";import ee from"./transaksi-stat-widget-C_WzGfxD.js";import se from"./transaksi-upload-sheet-CZ395sZH.js";import{S as T}from"./square-pen-B1p9t8eq.js";import{T as M}from"./trash-2-DRYWhf1X.js";import{P as re}from"./plus-DT693tEQ.js";import{F as ie}from"./folder-CrVjxCje.js";/* empty css            */import"./index-DT9ZoqIE.js";import"./index-B3wjCL83.js";import"./index-Hz9gbrsc.js";import"./index-Dlkj7pMn.js";import"./index-BSi80Wvr.js";import"./check-DlDD0QyO.js";import"./chevron-right-Znrgjzg8.js";import"./select-D8lRsOBV.js";import"./index-BdQq_4o_.js";import"./index-CbYVkFQ_.js";import"./index-SnK7Gtyp.js";import"./index-m-RNc7_t.js";import"./index--0oVBukS.js";import"./index-BvEaOTle.js";import"./calendar-VG4iKfa9.js";import"./form-control-CEMzV9ei.js";import"./submit-button-Ck5Ni1H_.js";import"./loader-circle-DAQI8I-g.js";import"./scroll-area-DUZEhZzw.js";import"./sheet-uu1dweqH.js";import"./textarea-DrQLs8Km.js";import"./use-mobile-Bag5WA1R.js";import"./card-C-BYkHEE.js";import"./theme-toggler-C9FC9irI.js";import"./sidebar-B8XkgV1H.js";import"./app-logo-icon-CiUmAF0g.js";import"./avatar-Dx1sIlHO.js";import"./alert-dialog-C_L72yqa.js";import"./arrow-left-Cx3VhY8O.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ae=D("Copy",te);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ce=D("Image",oe),cs=({transaksis:x,project:j})=>{const{mode:v,toggle:L}=O(),[a,c]=b.useState([]),[g,w]=b.useState(""),{permissions:n}=P().props,C=J(x,"date");return e.jsxs(U,{title:`Transaksi ${j?`- ${j.name}`:""}`,description:"Manage your transaksis",actions:e.jsxs(e.Fragment,{children:[n?.canUpdateProject&&e.jsx(K,{purpose:"edit",project:j,children:e.jsxs(r,{children:[e.jsx(T,{})," Edit project"]})}),e.jsxs(r,{onClick:L,children:[e.jsx(R,{}),q(v)]})]}),children:[e.jsx(ee,{}),e.jsxs("div",{className:"flex flex-col gap-2 md:flex-row",children:[e.jsx(Y,{placeholder:"Search transaksis...",value:g,onChange:o=>w(o.target.value)}),a.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs(r,{variant:"ghost",disabled:!0,children:[a.length," item selected"]}),e.jsx(Q,{transaksiIds:a,onSuccess:()=>c([]),children:e.jsxs(r,{children:[e.jsx(T,{})," Edit selected"]})}),e.jsx(G,{transaksiIds:a,onSuccess:()=>c([]),children:e.jsxs(r,{variant:"destructive",children:[e.jsx(M,{})," Delete selected"]})})]}),n?.canAdd&&e.jsx(f,{purpose:"create",children:e.jsxs(r,{children:[e.jsx(re,{}),"Transaksi baru"]})})]}),v=="table"?e.jsxs($,{children:[e.jsx(A,{children:e.jsxs(h,{children:[e.jsx(p,{children:e.jsx(r,{variant:"ghost",size:"icon",asChild:!0,children:e.jsx(N,{children:e.jsx(S,{checked:a.length===x.length,onCheckedChange:o=>{c(o?x.map(d=>d.id):[])}})})})}),e.jsx(p,{children:"Tanggal"}),e.jsx(p,{children:"Kegiatan"}),e.jsx(p,{children:"Nominal"}),e.jsx(p,{className:"text-center",children:"Actions"})]})}),e.jsx(H,{children:Object.entries(C).map(([o,d])=>(()=>{const l=d.filter(s=>JSON.stringify(s).toLowerCase().includes(g.toLowerCase())),m=l.reduce((s,i)=>s+(i.price??0),0);return e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"bg-muted/50",children:e.jsx(t,{colSpan:5,className:"text-center opacity-50",children:k(o).format("dddd, DD MMMM YYYY")})},o),l.map(s=>e.jsxs(h,{children:[e.jsx(t,{children:e.jsx(r,{variant:"ghost",size:"icon",asChild:!0,children:e.jsx(N,{children:e.jsx(S,{checked:a.includes(s.id),onCheckedChange:i=>{c(i?[...a,s.id]:a.filter(u=>u!==s.id))}})})})}),e.jsx(t,{children:V(s.date)}),e.jsx(t,{children:e.jsxs(B,{children:[e.jsx(E,{children:W(s.name)}),e.jsx(_,{children:e.jsx(F,{content:s.description,className:"prose-sm"})})]})}),e.jsx(t,{children:y(s.price)}),e.jsxs(t,{className:"text-center",children:[n?.canShow&&e.jsx(r,{variant:"ghost",size:"icon",children:e.jsx(I,{href:route("transaksi.show",s.id),children:e.jsx(ie,{})})}),n?.canUpdate&&e.jsxs(e.Fragment,{children:[e.jsx(se,{transaksi:s,children:e.jsx(r,{variant:"ghost",size:"icon",children:e.jsx(ce,{})})}),e.jsx(f,{purpose:"duplicate",transaksi:s,children:e.jsx(r,{variant:"ghost",size:"icon",children:e.jsx(ae,{})})}),e.jsx(f,{purpose:"edit",transaksi:s,children:e.jsx(r,{variant:"ghost",size:"icon",children:e.jsx(T,{})})})]}),n?.canDelete&&e.jsx(X,{transaksi:s,children:e.jsx(r,{variant:"ghost",size:"icon",children:e.jsx(M,{})})})]})]},s.id)),l.length>0&&e.jsxs(h,{className:"bg-muted/30",children:[e.jsx(t,{colSpan:3}),e.jsx(t,{className:"font-semibold",children:y(m)}),e.jsx(t,{className:"text-center opacity-70",children:"Total hari ini"})]})]})})())})]}):e.jsx("div",{className:"space-y-10",children:Object.entries(C).map(([o,d],l)=>{const m=d.filter(i=>JSON.stringify(i).toLowerCase().includes(g.toLowerCase())),s=m.reduce((i,u)=>i+(u.price??0),0);return e.jsxs("div",{className:"space-y-4",children:[e.jsx(z,{title:k(o).format("dddd, DD MMMM YYYY"),description:m.length>0?`Total pengeluaran: ${y(s)}`:void 0}),e.jsx("div",{className:"grid-responsive grid gap-4",children:m.map(i=>e.jsx(Z,{transaksi:i},i.id))})]},l)})})]})};export{cs as default};
