import{r as s,j as t,a as J,b as N}from"./app-anM-gZ2u.js";import{M as Q}from"./markdown-reader-i0u1iSIr.js";import{B as V}from"./badge-C0P4Ovgj.js";import{B as Z}from"./createLucideIcon-BioKLKX7.js";import{C as ee,a as te,b as oe,c as ne,d as re,e as ae}from"./card-B3S_K6RW.js";import{c as C}from"./index-6TxovVEZ.js";import{c as se}from"./index-CqHEZmET.js";import{P as ie}from"./index-DzuaZqSn.js";import{h as j,R as ce,i as de,P as ue,C as le,I as me,G as pe,L as xe,j as fe,k as Ce,l as he,m as ve,n as ge,o as Me,p as Ne,q as be}from"./theme-toggler-B3_fQzIm.js";import{u as je}from"./index-D4AgSKuP.js";import{c as m,i as Re,h as we,f as ye,t as h,e as b}from"./utils-Pwra_gJf.js";import{C as _e}from"./chevron-right-DENebv_t.js";import{C as Pe}from"./check-X5a9n9GQ.js";import{e as Se}from"./select-DLlcs4UA.js";import{A as Ie}from"./app-layout-DN7FZeuy.js";import{T as Ee}from"./transaksi-form-sheet-BUjQ_9NT.js";import{S as Te}from"./square-pen-CrjIyrP9.js";/* empty css            */import"./index-BHJU855m.js";import"./sidebar-7zpzTDSN.js";import"./use-mobile-1OJeYdmt.js";import"./sheet-BbbadrY6.js";import"./index-CbA_e4WE.js";import"./index-B9nn0GvT.js";import"./index-DfYHHzgK.js";import"./app-logo-icon-CTMYMHyL.js";import"./index-BDRgNheF.js";import"./index-nzUc_GAa.js";import"./label-C8G4Cnnr.js";import"./index-tkLrXI5P.js";import"./index-BdQq_4o_.js";import"./avatar-BU_ohGqV.js";import"./folder-B2LRf7jy.js";import"./calendar-DJbO1J_a.js";import"./form-control-Dj9hg2hI.js";import"./input-ClfOI950.js";import"./submit-button-nAPFLybW.js";import"./loader-circle-CKA1gowg.js";import"./scroll-area-C5tCGvq1.js";import"./textarea-B-IGZNd1.js";var M="ContextMenu",[Ae,Wt]=se(M,[j]),i=j(),[Oe,R]=Ae(M),w=e=>{const{__scopeContextMenu:n,children:r,onOpenChange:o,dir:a,modal:u=!0}=e,[l,d]=s.useState(!1),g=i(n),x=je(o),c=s.useCallback(f=>{d(f),x(f)},[x]);return t.jsx(Oe,{scope:n,open:l,onOpenChange:c,modal:u,children:t.jsx(ce,{...g,dir:a,open:l,onOpenChange:c,modal:u,children:r})})};w.displayName=M;var y="ContextMenuTrigger",_=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,disabled:o=!1,...a}=e,u=R(y,r),l=i(r),d=s.useRef({x:0,y:0}),g=s.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...d.current})}),x=s.useRef(0),c=s.useCallback(()=>window.clearTimeout(x.current),[]),f=p=>{d.current={x:p.clientX,y:p.clientY},u.onOpenChange(!0)};return s.useEffect(()=>c,[c]),s.useEffect(()=>void(o&&c()),[o,c]),t.jsxs(t.Fragment,{children:[t.jsx(de,{...l,virtualRef:g}),t.jsx(ie.span,{"data-state":u.open?"open":"closed","data-disabled":o?"":void 0,...a,ref:n,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:o?e.onContextMenu:C(e.onContextMenu,p=>{c(),f(p),p.preventDefault()}),onPointerDown:o?e.onPointerDown:C(e.onPointerDown,v(p=>{c(),x.current=window.setTimeout(()=>f(p),700)})),onPointerMove:o?e.onPointerMove:C(e.onPointerMove,v(c)),onPointerCancel:o?e.onPointerCancel:C(e.onPointerCancel,v(c)),onPointerUp:o?e.onPointerUp:C(e.onPointerUp,v(c))})]})});_.displayName=y;var De="ContextMenuPortal",P=e=>{const{__scopeContextMenu:n,...r}=e,o=i(n);return t.jsx(ue,{...o,...r})};P.displayName=De;var S="ContextMenuContent",I=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,...o}=e,a=R(S,r),u=i(r),l=s.useRef(!1);return t.jsx(le,{...u,...o,ref:n,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:d=>{e.onCloseAutoFocus?.(d),!d.defaultPrevented&&l.current&&d.preventDefault(),l.current=!1},onInteractOutside:d=>{e.onInteractOutside?.(d),!d.defaultPrevented&&!a.modal&&(l.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});I.displayName=S;var ke="ContextMenuGroup",Ge=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,...o}=e,a=i(r);return t.jsx(pe,{...a,...o,ref:n})});Ge.displayName=ke;var $e="ContextMenuLabel",E=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,...o}=e,a=i(r);return t.jsx(xe,{...a,...o,ref:n})});E.displayName=$e;var Le="ContextMenuItem",T=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,...o}=e,a=i(r);return t.jsx(me,{...a,...o,ref:n})});T.displayName=Le;var Be="ContextMenuCheckboxItem",A=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,...o}=e,a=i(r);return t.jsx(fe,{...a,...o,ref:n})});A.displayName=Be;var Ue="ContextMenuRadioGroup",Fe=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,...o}=e,a=i(r);return t.jsx(Ce,{...a,...o,ref:n})});Fe.displayName=Ue;var ze="ContextMenuRadioItem",O=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,...o}=e,a=i(r);return t.jsx(he,{...a,...o,ref:n})});O.displayName=ze;var He="ContextMenuItemIndicator",D=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,...o}=e,a=i(r);return t.jsx(ve,{...a,...o,ref:n})});D.displayName=He;var Xe="ContextMenuSeparator",k=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,...o}=e,a=i(r);return t.jsx(ge,{...a,...o,ref:n})});k.displayName=Xe;var qe="ContextMenuArrow",We=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,...o}=e,a=i(r);return t.jsx(Me,{...a,...o,ref:n})});We.displayName=qe;var Ye="ContextMenuSubTrigger",G=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,...o}=e,a=i(r);return t.jsx(Ne,{...a,...o,ref:n})});G.displayName=Ye;var Ke="ContextMenuSubContent",$=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,...o}=e,a=i(r);return t.jsx(be,{...a,...o,ref:n,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$.displayName=Ke;function v(e){return n=>n.pointerType!=="mouse"?e(n):void 0}var Je=w,Qe=_,Ve=P,L=I,B=E,U=T,F=A,z=O,H=D,X=k,q=G,W=$;const Ze=Je,et=Qe,tt=s.forwardRef(({className:e,inset:n,children:r,...o},a)=>t.jsxs(q,{ref:a,className:m("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",n&&"pl-8",e),...o,children:[r,t.jsx(_e,{className:"ml-auto h-4 w-4"})]}));tt.displayName=q.displayName;const ot=s.forwardRef(({className:e,...n},r)=>t.jsx(W,{ref:r,className:m("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]",e),...n}));ot.displayName=W.displayName;const Y=s.forwardRef(({className:e,...n},r)=>t.jsx(Ve,{children:t.jsx(L,{ref:r,className:m("z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]",e),...n})}));Y.displayName=L.displayName;const K=s.forwardRef(({className:e,inset:n,...r},o)=>t.jsx(U,{ref:o,className:m("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n&&"pl-8",e),...r}));K.displayName=U.displayName;const nt=s.forwardRef(({className:e,children:n,checked:r,...o},a)=>t.jsxs(F,{ref:a,className:m("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...o,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(H,{children:t.jsx(Pe,{className:"h-4 w-4"})})}),n]}));nt.displayName=F.displayName;const rt=s.forwardRef(({className:e,children:n,...r},o)=>t.jsxs(z,{ref:o,className:m("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(H,{children:t.jsx(Se,{className:"h-2 w-2 fill-current"})})}),n]}));rt.displayName=z.displayName;const at=s.forwardRef(({className:e,inset:n,...r},o)=>t.jsx(B,{ref:o,className:m("px-2 py-1.5 text-sm font-semibold text-foreground",n&&"pl-8",e),...r}));at.displayName=B.displayName;const st=s.forwardRef(({className:e,...n},r)=>t.jsx(X,{ref:r,className:m("-mx-1 my-1 h-px bg-border",e),...n}));st.displayName=X.displayName;const Yt=({transaksi:e})=>{const{permissions:n}=J().props;s.useEffect(()=>Re(a=>{N.post(route("transaksi.upload-media",e.id),{file:a},{preserveScroll:!0,onSuccess:()=>h.success("upload completed"),onError:u=>h.error(b(u))})}),[e.id]);const r=o=>{N.delete(route("doc.destroy",o.id),{preserveScroll:!0,onSuccess:()=>h.success("media deleted"),onError:a=>h.error(b(a))})};return t.jsxs(Ie,{title:"Detail Transaksi",description:"Detail transaksi",actions:t.jsx(t.Fragment,{children:n?.canUpdate&&t.jsx(Ee,{purpose:"edit",transaksi:e,children:t.jsxs(Z,{children:[t.jsx(Te,{})," Edit transaksi"]})})}),children:[t.jsxs(ee,{children:[t.jsxs(te,{children:[t.jsx(oe,{children:e.name}),t.jsxs(ne,{children:["Tanggal : ",we(e.date)]})]}),t.jsx(re,{children:t.jsx("div",{children:t.jsx(Q,{content:e.description||"_Tidak ada deskripsi_",className:"prose-sm"})})}),t.jsxs(ae,{className:"flex items-center justify-between",children:[t.jsx(V,{children:e.type}),t.jsx("span",{children:ye(e.price)})]})]}),t.jsx("div",{className:"masonry",children:e.media?.map(o=>t.jsxs(Ze,{children:[t.jsx(et,{asChild:!0,children:t.jsx("img",{src:o.original_url,alt:o.name,className:"w-full object-cover"},o.id)}),t.jsx(Y,{children:t.jsx(K,{onClick:()=>r(o),children:"Delete"})})]}))})]})};export{Yt as default};
