import{r as s,j as t,a as J,b as N}from"./app-DMcW2tOP.js";import{M as Q}from"./markdown-reader-BoBhMhTs.js";import{B as V}from"./badge-BXRv-OD1.js";import{c as Z,B as ee}from"./createLucideIcon-nktsYpzW.js";import{C as te,a as oe,b as ne,c as re,d as ae,e as se}from"./card-C5luDYFy.js";import{c as C}from"./index-BChacAqO.js";import{c as ie}from"./index-DqFDT8Zo.js";import{P as ce}from"./index-CH0LOIsg.js";import{h as j,R as de,i as le,P as ue,C as me,I as pe,G as xe,L as fe,j as Ce,k as he,l as ge,m as ve,n as Me,o as Ne,p as be,q as je}from"./theme-toggler-zfHTxpjd.js";import{u as Re}from"./index-DxqT3Nbj.js";import{c as m,l as ye,k as we,f as _e,t as h,e as b}from"./index-Ic_xCKeT.js";import{C as Pe}from"./chevron-right-B0kRwBRD.js";import{C as Se}from"./check-CKikJsGn.js";import{A as Ie}from"./app-layout-B8WP389A.js";import{T as Ee}from"./transaksi-form-sheet-EbL2lbeU.js";import{S as Te}from"./square-pen-CFbqh2Lq.js";/* empty css            */import"./sidebar-Cad81lXe.js";import"./use-mobile-C9lRYDIH.js";import"./sheet-BKkaK1rE.js";import"./index-40mVIHYA.js";import"./index-zo_Wv1sg.js";import"./index-XGSvYr_i.js";import"./app-logo-icon-BMV7tBIU.js";import"./index-DojeUuzN.js";import"./index-D38LWlPc.js";import"./avatar-DQH3gakU.js";import"./folder-BJuX1J9p.js";import"./select-BTSy8u0Q.js";import"./index-BdQq_4o_.js";import"./index-C9qhn7ua.js";import"./calendar-CEAD7sGf.js";import"./form-control-B1p1qqkT.js";import"./label-D47-Nb5D.js";import"./input-KXqrnvDd.js";import"./submit-button-Br4S-aRY.js";import"./loader-circle-BRTsX2N_.js";import"./scroll-area-BzZOKuQS.js";import"./textarea-DUSQcss2.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Oe=Z("Circle",Ae);var M="ContextMenu",[ke,Yt]=ie(M,[j]),i=j(),[De,R]=ke(M),y=e=>{const{__scopeContextMenu:n,children:r,onOpenChange:o,dir:a,modal:l=!0}=e,[u,d]=s.useState(!1),v=i(n),x=Re(o),c=s.useCallback(f=>{d(f),x(f)},[x]);return t.jsx(De,{scope:n,open:u,onOpenChange:c,modal:l,children:t.jsx(de,{...v,dir:a,open:u,onOpenChange:c,modal:l,children:r})})};y.displayName=M;var w="ContextMenuTrigger",_=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,disabled:o=!1,...a}=e,l=R(w,r),u=i(r),d=s.useRef({x:0,y:0}),v=s.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...d.current})}),x=s.useRef(0),c=s.useCallback(()=>window.clearTimeout(x.current),[]),f=p=>{d.current={x:p.clientX,y:p.clientY},l.onOpenChange(!0)};return s.useEffect(()=>c,[c]),s.useEffect(()=>void(o&&c()),[o,c]),t.jsxs(t.Fragment,{children:[t.jsx(le,{...u,virtualRef:v}),t.jsx(ce.span,{"data-state":l.open?"open":"closed","data-disabled":o?"":void 0,...a,ref:n,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:o?e.onContextMenu:C(e.onContextMenu,p=>{c(),f(p),p.preventDefault()}),onPointerDown:o?e.onPointerDown:C(e.onPointerDown,g(p=>{c(),x.current=window.setTimeout(()=>f(p),700)})),onPointerMove:o?e.onPointerMove:C(e.onPointerMove,g(c)),onPointerCancel:o?e.onPointerCancel:C(e.onPointerCancel,g(c)),onPointerUp:o?e.onPointerUp:C(e.onPointerUp,g(c))})]})});_.displayName=w;var Ge="ContextMenuPortal",P=e=>{const{__scopeContextMenu:n,...r}=e,o=i(n);return t.jsx(ue,{...o,...r})};P.displayName=Ge;var S="ContextMenuContent",I=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,...o}=e,a=R(S,r),l=i(r),u=s.useRef(!1);return t.jsx(me,{...l,...o,ref:n,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:d=>{e.onCloseAutoFocus?.(d),!d.defaultPrevented&&u.current&&d.preventDefault(),u.current=!1},onInteractOutside:d=>{e.onInteractOutside?.(d),!d.defaultPrevented&&!a.modal&&(u.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});I.displayName=S;var Le="ContextMenuGroup",$e=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,...o}=e,a=i(r);return t.jsx(xe,{...a,...o,ref:n})});$e.displayName=Le;var Be="ContextMenuLabel",E=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,...o}=e,a=i(r);return t.jsx(fe,{...a,...o,ref:n})});E.displayName=Be;var Ue="ContextMenuItem",T=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,...o}=e,a=i(r);return t.jsx(pe,{...a,...o,ref:n})});T.displayName=Ue;var Fe="ContextMenuCheckboxItem",A=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,...o}=e,a=i(r);return t.jsx(Ce,{...a,...o,ref:n})});A.displayName=Fe;var ze="ContextMenuRadioGroup",He=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,...o}=e,a=i(r);return t.jsx(he,{...a,...o,ref:n})});He.displayName=ze;var Xe="ContextMenuRadioItem",O=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,...o}=e,a=i(r);return t.jsx(ge,{...a,...o,ref:n})});O.displayName=Xe;var qe="ContextMenuItemIndicator",k=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,...o}=e,a=i(r);return t.jsx(ve,{...a,...o,ref:n})});k.displayName=qe;var We="ContextMenuSeparator",D=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,...o}=e,a=i(r);return t.jsx(Me,{...a,...o,ref:n})});D.displayName=We;var Ye="ContextMenuArrow",Ke=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,...o}=e,a=i(r);return t.jsx(Ne,{...a,...o,ref:n})});Ke.displayName=Ye;var Je="ContextMenuSubTrigger",G=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,...o}=e,a=i(r);return t.jsx(be,{...a,...o,ref:n})});G.displayName=Je;var Qe="ContextMenuSubContent",L=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,...o}=e,a=i(r);return t.jsx(je,{...a,...o,ref:n,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});L.displayName=Qe;function g(e){return n=>n.pointerType!=="mouse"?e(n):void 0}var Ve=y,Ze=_,et=P,$=I,B=E,U=T,F=A,z=O,H=k,X=D,q=G,W=L;const tt=Ve,ot=Ze,nt=s.forwardRef(({className:e,inset:n,children:r,...o},a)=>t.jsxs(q,{ref:a,className:m("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",n&&"pl-8",e),...o,children:[r,t.jsx(Pe,{className:"ml-auto h-4 w-4"})]}));nt.displayName=q.displayName;const rt=s.forwardRef(({className:e,...n},r)=>t.jsx(W,{ref:r,className:m("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]",e),...n}));rt.displayName=W.displayName;const Y=s.forwardRef(({className:e,...n},r)=>t.jsx(et,{children:t.jsx($,{ref:r,className:m("z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]",e),...n})}));Y.displayName=$.displayName;const K=s.forwardRef(({className:e,inset:n,...r},o)=>t.jsx(U,{ref:o,className:m("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n&&"pl-8",e),...r}));K.displayName=U.displayName;const at=s.forwardRef(({className:e,children:n,checked:r,...o},a)=>t.jsxs(F,{ref:a,className:m("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...o,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(H,{children:t.jsx(Se,{className:"h-4 w-4"})})}),n]}));at.displayName=F.displayName;const st=s.forwardRef(({className:e,children:n,...r},o)=>t.jsxs(z,{ref:o,className:m("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(H,{children:t.jsx(Oe,{className:"h-2 w-2 fill-current"})})}),n]}));st.displayName=z.displayName;const it=s.forwardRef(({className:e,inset:n,...r},o)=>t.jsx(B,{ref:o,className:m("px-2 py-1.5 text-sm font-semibold text-foreground",n&&"pl-8",e),...r}));it.displayName=B.displayName;const ct=s.forwardRef(({className:e,...n},r)=>t.jsx(X,{ref:r,className:m("-mx-1 my-1 h-px bg-border",e),...n}));ct.displayName=X.displayName;const Kt=({transaksi:e})=>{const{permissions:n}=J().props;s.useEffect(()=>ye(a=>{N.post(route("transaksi.upload-media",e.id),{file:a},{preserveScroll:!0,onSuccess:()=>h.success("upload completed"),onError:l=>h.error(b(l))})}),[e.id]);const r=o=>{N.delete(route("doc.destroy",o.id),{preserveScroll:!0,onSuccess:()=>h.success("media deleted"),onError:a=>h.error(b(a))})};return t.jsxs(Ie,{title:"Detail Transaksi",description:"Detail transaksi",actions:t.jsx(t.Fragment,{children:n?.canUpdate&&t.jsx(Ee,{purpose:"edit",transaksi:e,children:t.jsxs(ee,{children:[t.jsx(Te,{})," Edit transaksi"]})})}),children:[t.jsxs(te,{children:[t.jsxs(oe,{children:[t.jsx(ne,{children:e.name}),t.jsxs(re,{children:["Tanggal : ",we(e.date)]})]}),t.jsx(ae,{children:t.jsx("div",{children:t.jsx(Q,{content:e.description||"_Tidak ada deskripsi_",className:"prose-sm"})})}),t.jsxs(se,{className:"flex items-center justify-between",children:[t.jsx(V,{children:e.type}),t.jsx("span",{children:_e(e.price)})]})]}),t.jsx("div",{className:"masonry",children:e.media?.map(o=>t.jsxs(tt,{children:[t.jsx(ot,{asChild:!0,children:t.jsx("img",{src:o.original_url,alt:o.name,className:"w-full object-cover"},o.id)}),t.jsx(Y,{children:t.jsx(K,{onClick:()=>r(o),children:"Delete"})})]}))})]})};export{Kt as default};
